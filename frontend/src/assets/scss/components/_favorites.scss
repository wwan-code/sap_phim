@use '../variables' as *;
@use '../mixins' as *;

.favorite-toggle {
  position: relative;
  &.is-favorite i { color: var(--w-danger-color); }
  &.is-animating i { animation: fav-pulse .3s ease; }
}

@keyframes fav-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.favorites-tab { animation: fade-in 300ms ease; }
.favorites-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: var(--w-spacing-md);
}
.favorite-card {
  background: rgba(255,255,255,.04);
  border-radius: 10px;
  overflow: hidden;
  position: relative;
  transition: transform .25s ease, box-shadow .25s ease, opacity .3s ease;
  &:hover { transform: translateY(-4px); box-shadow: var(--w-box-shadow-lg); }
  &__poster { display:block; position:relative; padding-top:150%; overflow:hidden; }
  &__poster img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transition: transform .3s ease; }
  &:hover &__poster img { transform: scale(1.04); }
  &__content { padding: 10px 12px 12px; }
  &__top { display:flex; justify-content:space-between; align-items:center; gap:8px; }
  &__title { font-weight:600; font-size:14px; line-height:1.4; }
  &__remove { background:transparent; border:none; color:var(--w-text-color); opacity:.7; transition: var(--w-transition-ease); }
  &__remove:hover { opacity:1; color: var(--w-danger-color); }

  &__meta {
    display: flex;
    gap: 10px;
    font-size: 12px;
    color: var(--w-text-color-light);
    margin-top: 5px;

    svg {
      margin-right: 3px;
      color: var(--w-primary-color);
    }
  }
}

.favorites-tab__controls {
  display: flex;
  flex-wrap: wrap;
  gap: var(--w-spacing-md);
  margin-bottom: var(--w-spacing-lg);
  align-items: center;

  .control-group {
    display: flex;
    align-items: center;
    gap: 8px;

    label {
      font-size: 14px;
      color: var(--w-text-color);
      white-space: nowrap;
    }

    select {
      background-color: var(--w-bg-color-dark);
      border: 1px solid var(--w-border-color);
      border-radius: 5px;
      padding: 8px 12px;
      color: var(--w-text-color);
      font-size: 14px;
      cursor: pointer;
      appearance: none; /* Remove default arrow */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff' width='18px' height='18px'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 8px center;
      padding-right: 30px; /* Make space for the custom arrow */

      &:focus {
        outline: none;
        border-color: var(--w-primary-color);
      }
    }
  }
}

.favorites-load-more { text-align:center; margin-top: var(--w-spacing-lg); }
.favorites-empty { text-align:center; opacity:.8; padding: var(--w-spacing-md); }

@keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
