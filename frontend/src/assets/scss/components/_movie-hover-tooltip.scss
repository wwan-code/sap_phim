@use '../variables' as *;
@use '../mixins' as *;

.movie-hover-tooltip {
    position: absolute;
    z-index: var(--w-zindex-popover);
    background: var(--w-background-color-dark);
    border-radius: var(--w-border-radius-lg);
    overflow: hidden;
    box-shadow: 0 0.25rem 0.5rem rgba(255, 255, 255, 0.075);
    animation: tooltip-fade-in 220ms ease-out;
    will-change: transform, opacity;
    max-width: 420px;
    display: grid;
    grid-template-rows: 1fr auto;

    &__media {
        position: relative;
        overflow: hidden;
        padding-top: 56.25%;
        aspect-ratio: 16 / 9;
        background: no-repeat center / 15%;
        background-image: url('./vite.svg');
        border-radius: var(--w-border-radius-lg);

        picture,
        img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .movie-hover-tooltip__gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, rgba(0, 0, 0, .2) 30%, rgba(0, 0, 0, .7) 100%);
            pointer-events: none;
        }
    }

    &__body {
        position: relative;
        padding: var(--w-spacing-md);
    }

    &__header {
        margin-bottom: var(--w-spacing-sm);
    }

    &__title {
        margin: 0 0 4px 0;
        font-size: var(--w-font-size-lg);
        color: var(--w-text-color);
    }

    &__subtitle {
        font-size: var(--w-font-size-sm);
        color: var(--w-text-color-light);
    }

    &__actions {
        display: flex;
        gap: var(--w-spacing-sm);
        margin: 0 0 var(--w-spacing-sm) 0;
    }

    &__meta {
        display: flex;
        gap: var(--w-spacing-xs);
        margin-bottom: var(--w-spacing-sm);
    }

    &__badge {
        background: var(--w-background-color-light);
        color: var(--w-text-color);
        border-radius: var(--w-border-radius);
        line-height: 24px;
        padding: 0 var(--w-spacing-sm);
        font-size: var(--w-font-size-sm);

        &--imdb {
            @include flex(row, flex-start, center);
            gap: var(--w-spacing-xs);
            background-color: transparent;
            border: 1px solid #f0d25c;
            border-radius: var(--w-border-radius);
            color: #fff;
            cursor: default;
            flex-shrink: 0;

            &::before {
                content: "IMDb";
                color: #f0d25c;
                position: relative;
                font-weight: 500;
                font-size: var(--w-font-size-xs);
                line-height: 1;
            }
        }
    }

    &__tags {
        display: flex;
        flex-wrap: wrap;
    }
}

@keyframes tooltip-fade-in {
    from {
        opacity: 0;
        transform: translateY(6px) scale(.8);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

// Responsive
@include breakpoint(mobile) {
    .movie-hover-tooltip {
        width: calc(100vw - 24px) !important;
        left: 12px !important;
        right: 12px !important;
        height: auto !important;
    }
}

@include breakpoint(tablet) {
    .movie-hover-tooltip {
        grid-template-rows: 220px auto;
    }
}

@include breakpoint(desktop) {
    .movie-hover-tooltip {
        grid-template-rows: 240px auto;
    }
}